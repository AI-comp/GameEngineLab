<head>
  <title>Game</title>
</head>

<body>
  {{> outer}}
</body>

<template name="outer">
  <div id="outer">
    {{#unless inRoom}}
      {{> lobby}}
    {{else}}
      {{> console}}
      {{> commandCenter}}
    {{/unless}}
  </div>
</template>

<template name="lobby">
  <div>
    <div>
      <label for="player_name">Your Name:</label>
      <input type="text" id="player_name" />
    </div>

    {{#each rooms}}
      {{> roomInfo}}
    {{/each}}

    {{> newRoom}}

    <div style="margin-top: 12px">
      <button id="clear">Clear All Rooms</button>
    </div>
  </div>
</template>

<template name="roomInfo">
  <div>
    <button id="join">Join</button>
    {{name}}
  </div>
</template>

<template name="newRoom">
  <div class="block">
    <div>
      <label for="room_name">Room Name:</label>
      <input id="room_name" type="text" />
    </div>

    <div>
      <label for="capacity">Number of Players:</label>
      <input id="capacity" type="number" value="4" />
    </div>
    
    <div>
      <label for="game_engine">Game Engine:</label>
      <textarea id="game_engine" rows="10" cols="80" />
    </div>
    
    <div>
      <button id="new_room">New Room</button>
    </div>
  </div>
</template>

<template name="console">
  <div class="console">
    {{#each gameLogs}}
      <div class="game_log">
        {{this}}
      </div>
    {{/each}}
  </div>
</template>

<template name="commandCenter">
  <div>
    {{#each players}}
      {{> player}}
    {{/each}}
  </div>

  {{#if started}}
    <div>
      <label for="cmd_text">Command:</label>
      <input type="text" id="cmd_text" value="" />
      <input type="button" id="send_cmd" value="Send" />
    </div>
  {{/if}}
</template>

<template name="player">
  <div class="player">
    <span class="name">{{name}}</span>
    <span class="ready">{{ready}}</span>
  </div>
</template>
